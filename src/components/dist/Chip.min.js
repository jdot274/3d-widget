"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var THREE=_interopRequireWildcard(require("three")),_sceneConfig=_interopRequireDefault(require("../scene.config.json")),_RoundedBoxGeometry=require("three/examples/jsm/geometries/RoundedBoxGeometry.js"),_MeshBeveledBoxGeometry=require("./geometries/MeshBeveledBoxGeometry.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var n=o?Object.getOwnPropertyDescriptor(e,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=e[s]}return i.default=e,t&&t.set(e,i),i}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var Chip=function(){function o(e,t,i){_classCallCheck(this,o),this.row=e,this.col=t,this.scene=i,this.isHovered=!1,this.isAccented=!1,this.initialPosition=new THREE.Vector3(0,0,0),this.hoverPosition=new THREE.Vector3(0,0,2*_sceneConfig.default.hoverLift),this.originalScale=new THREE.Vector3(1,1,1),this.hoverScale=new THREE.Vector3(1.1,1.1,1.1),this.createMesh(),this.updatePosition(),(this.mesh.userData.chip=this).mesh.userData.originalPosition=this.mesh.position.clone(),i.add(this.mesh)}return _createClass(o,[{key:"createMesh",value:function(){var t,i=_sceneConfig.default.chipWidth*(1-_sceneConfig.default.chipSpacing),o=_sceneConfig.default.chipHeight*(1-_sceneConfig.default.chipSpacing),s=_sceneConfig.default.chipDepth,e=_sceneConfig.default.roundedCorners?.1:0;try{t=_sceneConfig.default.roundedCorners&&_RoundedBoxGeometry.RoundedBoxGeometry?new _RoundedBoxGeometry.RoundedBoxGeometry(i,o,s,8,e):_sceneConfig.default.beveledCorners&&_MeshBeveledBoxGeometry.MeshBeveledBoxGeometry?new _MeshBeveledBoxGeometry.MeshBeveledBoxGeometry(i,o,s,3,.05):new THREE.BoxGeometry(i,o,s)}catch(e){t=new THREE.BoxGeometry(i,o,s)}var n=new THREE.MeshPhysicalMaterial({color:new THREE.Color(_sceneConfig.default.baseColor),metalness:.9,roughness:.1,reflectivity:1,envMapIntensity:1.5,transmission:.2,thickness:.5,transparent:!0,opacity:.9,premultipliedAlpha:!0});this.mesh=new THREE.Mesh(t,n),this.mesh.rotation.set(.05*Math.random()-.025,.05*Math.random()-.025,.05*Math.random()-.025)}},{key:"updatePosition",value:function(){var e=_sceneConfig.default.gridSize,t=_sceneConfig.default.gridSpacing,i=(this.col-(e-1)/2)*t,o=((e-1)/2-this.row)*t;this.initialPosition.set(i,o,0),this.mesh.position.copy(this.initialPosition),this.hoverPosition.set(i,o,0+_sceneConfig.default.hoverLift)}},{key:"update",value:function(e){if(this.mesh&&!this.isHovered){var t=.2*this.row+.3*this.col,i=Math.sin((e+t)*_sceneConfig.default.floatSpeed)*_sceneConfig.default.floatAmplitude;this.mesh.position.z=this.initialPosition.z+i,this.mesh.rotation.x=.03*Math.sin(.2*e+.5*this.row),this.mesh.rotation.y=.03*Math.cos(.3*e+.5*this.col)}}},{key:"onHover",value:function(e){this.isHovered!==e&&(this.isHovered=e,"undefined"!=typeof gsap&&(e?(gsap.to(this.mesh.position,{x:this.hoverPosition.x,y:this.hoverPosition.y,z:this.hoverPosition.z,duration:.3,ease:"power2.out"}),gsap.to(this.mesh.scale,{x:this.hoverScale.x,y:this.hoverScale.y,z:this.hoverScale.z,duration:.3,ease:"power2.out"}),gsap.to(this.mesh.material,{envMapIntensity:2,emissiveIntensity:.5,duration:.3}),this.mesh.material.emissive||(this.mesh.material.emissive=new THREE.Color(3355443)),gsap.to(this.mesh.material,{emissiveIntensity:.5,duration:.3})):(gsap.to(this.mesh.position,{x:this.initialPosition.x,y:this.initialPosition.y,z:this.initialPosition.z,duration:.5,ease:"power2.out"}),gsap.to(this.mesh.scale,{x:this.originalScale.x,y:this.originalScale.y,z:this.originalScale.z,duration:.5,ease:"power2.out"}),gsap.to(this.mesh.material,{envMapIntensity:1,emissiveIntensity:0,duration:.5}))))}},{key:"onClick",value:function(){this.isAccented=!this.isAccented,"undefined"!=typeof gsap?this.isAccented?gsap.to(this.mesh.material.color,{r:_sceneConfig.default.accentColor.r,g:_sceneConfig.default.accentColor.g,b:_sceneConfig.default.accentColor.b,duration:.3}):gsap.to(this.mesh.material.color,{r:_sceneConfig.default.baseColor.r,g:_sceneConfig.default.baseColor.g,b:_sceneConfig.default.baseColor.b,duration:.3}):this.mesh.material.color.set(this.isAccented?_sceneConfig.default.accentColor:_sceneConfig.default.baseColor)}},{key:"dispose",value:function(){this.mesh&&(this.mesh.geometry&&this.mesh.geometry.dispose(),this.mesh.material&&this.mesh.material.dispose(),this.scene.remove(this.mesh),this.mesh=null)}}]),o}(),_default=Chip;exports.default=_default;
//# sourceMappingURL=Chip.min.js.map
